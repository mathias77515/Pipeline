****************************************************************
*                      SLURM Batch System                      *
*           IN2P3 Computing Centre, Villeurbanne FR            *
****************************************************************
* Date:                 Mon Dec 18 13:35:00 CET 2023
* Job name:             sampling
* Job id:               58397803
* User:                 tlaclave
* Account:              qubic
* Submit host:          cca017
* Partition:            hpc
* Quality of service:   normal
* Nodelist:             ccwpslurm0001
****************************************************************
Chosen method = MCMC
{'Method': 'FMM', 'Sky': {'CMB': {'cmb': True, 'r': [0, 'f', 'r', 0.001], 'Alens': [1, 'f', 'A_{lens}', 1]}, 'Foregrounds': {'Dust': True, 'nu0_d': 353, 'Ad': [4, 'nf', 'A_d', 4], 'betad': [1.54, 'nf', '\\beta_d', 1.54], 'alphad': [-0.4, 'nf', '\\alpha_d', -0.4], 'deltad': [1, 'nf', '\\Delta_d', 1], 'Synchrotron': False, 'nu0_s': 23, 'As': [0, 'nf', 'A_s', 0], 'betas': [-3, 'nf', '\\beta_s', -3], 'alphas': [-0.4, 'nf', '\\alpha_s', -0.4], 'deltas': [1, 'nf', '\\Delta_s', 1], 'DustSync': False, 'eps': [0, 'nf', '\\varepsilon', 0]}, 'nside': 256}, 'QUBIC': {'method': 'MM', 'randomreal': True, 'npointings': 8000, 'nsub': 8, 'nrec': 2, 'seed': 1, 'iteration': 1, 'ndet': 1, 'npho150': 1, 'npho220': 1, 'synthbeam_kmax': 1, 'detector_nep': 4.7e-17, 'nhwp_angles': 3, 'dtheta': 15, 'type': 'two', 'covcut': 0.2, 'kappa': 0, 'convolution': True, 'bandpass_correction': True, 'RA_center': 0, 'DEC_center': -57, 'dust_model': 'd0', 'sync_model': 's0', 'fsky': 0.035}, 'Spectrum': {'do_spectrum': False, 'method': 'namaster', 'dl': 30, 'lmin': 40, 'aposize': 10, 'beam_correction': False, 'pixwin_correction': False, 'noise_correction': False, 'nbins': 10}, 'PCG': {'maxiter': 300, 'tol': 1e-20, 'gif': False}, 'Sampler': {'do_sampler': False, 'nsteps': 200, 'N': 5, 'ndim': 2, 'discard': 100, 'markers': False, 'sig_initial_guess': 0.01, 'title_limit': 1}, 'Data': {'datafilename': 'MC', 'planck': {'30GHz': False, '44GHz': False, '70GHz': False, '100GHz': False, '143GHz': False, '217GHz': False, '353GHz': False}, 'level_planck_noise': 0, 'use_external_data': True}}
emcee: Exception while calling your likelihood function:
  params: [ 0.78089063  4.15458772 -8.25605872]
  args: []
  kwargs: {}
  exception:
Traceback (most recent call last):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 545, in __call__
    return self.f(x, *self.args, **self.kwargs)
  File "sampling.py", line 644, in chi2
    if self.param_sampling['simu']['name'] == 'CMB':
KeyError: 'name'
emcee: Exception while calling your likelihood function:
  params: [0.33596577 7.81099147 4.65798833]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.16009122 -4.70930393 -4.54250328]
  args: []
  kwargs: {}
  exception:
Traceback (most recent call last):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 545, in __call__
    return self.f(x, *self.args, **self.kwargs)
  File "sampling.py", line 644, in chi2
    if self.param_sampling['simu']['name'] == 'CMB':
KeyError: 'name'
emcee: Exception while calling your likelihood function:
  params: [ 0.68037335 -2.33055367  6.68633535]
  args: []
  kwargs: {}
  exception:
Traceback (most recent call last):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 545, in __call__
    return self.f(x, *self.args, **self.kwargs)
  File "sampling.py", line 644, in chi2
    if self.param_sampling['simu']['name'] == 'CMB':
KeyError: 'name'
Traceback (most recent call last):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 545, in __call__
    return self.f(x, *self.args, **self.kwargs)
  File "sampling.py", line 644, in chi2
    if self.param_sampling['simu']['name'] == 'CMB':
KeyError: 'name'
emcee: Exception while calling emcee: Exception while calling your likelihood function:
  params: [ 0.17664205 13.80879489  5.70021396]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.2465205  -9.27558793 -1.36776801]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.34276699  0.83448594 -2.17553585]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [0.5218608  8.28223183 4.68081731]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.55149776 -0.56551612  6.79316327]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.20522348  0.52962401 -4.77628454]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [0.66001975 8.8207814  6.86377147]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.27318847 -3.06254542 -9.10086607]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.01007661 -2.98531077  0.63053026]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.11058352  6.52844142 -5.16209357]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.15215465  6.33090793 -2.76750174]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [  0.69673657 -11.4253614    5.34892879]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.93835343 -4.62158361 -2.04659878]
  args: []
  kwargs: {}
  exception:
emcee: Exception while calling your likelihood function:
  params: [ 0.53890606 13.76085213 -1.86947914]
  args: []
  kwargs: {}
  exception:
multiprocessing.pool.RemoteTraceback: 
"""
Traceback (most recent call last):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/multiprocessing/pool.py", line 125, in worker
    result = (True, func(*args, **kwds))
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/multiprocessing/pool.py", line 48, in mapstar
    return list(map(*args))
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 545, in __call__
    return self.f(x, *self.args, **self.kwargs)
  File "sampling.py", line 644, in chi2
    if self.param_sampling['simu']['name'] == 'CMB':
KeyError: 'name'
"""

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "sampling.py", line 860, in <module>
    MCMC()()
  File "sampling.py", line 667, in __call__
    sampler.run_mcmc(p0, mcmc_steps, progress=True)
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 384, in run_mcmc
    for results in self.sample(initial_state, iterations=nsteps, **kwargs):
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 285, in sample
    state.log_prob, state.blobs = self.compute_log_prob(state.coords)
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/site-packages/emcee/ensemble.py", line 427, in compute_log_prob
    map_func(self.log_prob_fn, (p[i] for i in range(len(p))))
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/multiprocessing/pool.py", line 364, in map
    return self._map_async(func, iterable, mapstar, chunksize).get()
  File "/pbs/throng/qubic/Anaconda3/envs/qubic_python38/lib/python3.8/multiprocessing/pool.py", line 771, in get
    raise self._value
KeyError: 'name'
****************************************************************
*                      SLURM Batch System                      *
*           IN2P3 Computing Centre, Villeurbanne FR            *
****************************************************************
Date: Mon Dec 18 13:35:20 CET 2023
Job informations can be found using these commands:
Accounting:
sacct -j 58397803
Efficiency:
seff 58397803
****************************************************************
